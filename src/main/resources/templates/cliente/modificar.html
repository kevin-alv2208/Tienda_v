<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://wwww.thymeleaf.org" 
      xmlns:sec="http://thymeleaft.org/extras/spring-security">
    <head th:replace="layout/plantilla :: head">
        <title>TechShop</title>
    </head>
    <body>
        <header th:replace="layout/plantilla :: header" />
        <section th:replace="cliente/fragmentosCliente :: editarCliente"/> 
        <h2>Datos del cliente</h2>
        <a th:href="@{/cliente/listado}">Regresar</a>
        <br/>
        <br/>
        <div class="contenido">
            <form th:action="@{/cliente/guardar}"
                  method="POST"
                  th:object="${cliente}">
                <input type="hidden" name="idCliente" th:field="*{idCliente}" />
                <label for="nombre">Nombre: </label>
                <input type="text" id="nombre" name="nombre" th:field="*{nombre}"/>
                <br/>
                <label for="apellidos">Apellidos: </label>
                <input type="text" id="apellidos" name="apellidos" th:field="*{apellidos}"/>
                <br/>
                <label for="correo">Correo: </label>
                <input type="email" id="correo" name="correo" th:field="*{correo}"/>
                <br/>
                <label for="telefono">Teléfono: </label>
                <input type="tel" id="telefono" name="telefono" th:field="*{telefono}" />
                <br/>
                <label for="limite">Límite: </label>
                <input type="number" id="limite" name="limite" th:field="*{credito.limite}" />
                <br/>
                <input type="submit" name="guardar" value="Guardar" />
            </form>
            <section th:fragment="editarCliente">            
                <form method="POST"
                      th:action="@{/cliente/guardar}"
                      th:object="${cliente}"
                      class="was-validated">
                    <input type="hidden" name="idCliente" th:field="*{idCliente}"/>
                    <section th:replace="cliente/fragmentosCliente :: botonesEditar"/> 
                    <div id="details">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4>[[#{accion.actualizar}]]</h4>
                                        </div>
                                        <div class="card-body">
                                            <div class="form-group">
                                                <label for="nombre" th:text="#{cliente.nombre}">Nombre: </label>
                                                <input type="text" class="form-control" name="nombre" th:field="*{nombre}"/>
                                            </div>
                                            <div class="form-group">
                                                <label for="apellidos" th:text="#{cliente.apellidos}">Apellidos: </label>
                                                <input type="text"  class="form-control" name="apellidos" th:field="*{apellidos}"/>
                                            </div>
                                            <div class="form-group">
                                                <label for="correo" th:text="#{cliente.correo}">Correo: </label>
                                                <input type="email"  class="form-control" name="correo" th:field="*{correo}"/>
                                            </div>
                                            <div class="form-group">
                                                <label for="telefono" th:text="#{cliente.telefono}">Teléfono: </label>
                                                <input type="tel"  class="form-control" name="telefono" th:field="*{telefono}"/>
                                            </div>
                                            <div class="form-group">
                                                <label for="limite" th:text="#{cliente.limite}">Limite: </label>
                                                <input type="number"  class="form-control" name="limite" th:field="*{credito.limite}"/>
                                            </div>                    
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </section>
            <section th:fragment="botonesEditar">
                <div id="actions" class="py-4 mb-4 bg-light">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-3">
                                <a th:href="@{/cliente/listado}" class="btn btn-ligth btn-block">
                                    <i class="fas fa-arrow-left"></i> [[#{accion.regresar}]]
                                </a>
                            </div>
                            <div class="col-md-3">
                                <button type="submit" class="btn btn-success btn-block">
                                    <i class="fas fa-check"></i> [[#{accion.guardar}]]
                                </button>
                            </div>
                            <div class="col-md-3">
                                <a th:href="@{/cliente/eliminar/}+${cliente.idCliente}"
                                   class="btn btn-danger btn-block">
                                    <i class="fas fa-trash"></i> [[#{accion.eliminar}]]
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <footer th:replace="layout/plantilla :: footer" />
    </body>
</html>